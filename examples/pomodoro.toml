# Example deck configuration for the pomodoro timer plugin
#
# Usage:
#   1. Build the plugin: cargo build
#   2. Set plugin path: export VERANDAH_PLUGIN_PATH=/home/swn/.cache/cargo/sw1nn/cargo_target/debug
#   3. Start daemon: streamdeckd --config examples/pomodoro.toml --watch-config -vv
#
# Button layout (3x5 Stream Deck):
#
#   ┌─────┬─────┬─────┬─────┬─────┐
#   │  0  │  1  │TIMER│  3  │clock│
#   ├─────┼─────┼─────┼─────┼─────┤
#   │reset│  6  │skip │  8  │  9  │
#   ├─────┼─────┼─────┼─────┼─────┤
#   │ 10  │ 11  │ 12  │ 13  │ 14  │
#   └─────┴─────┴─────┴─────┴─────┘
#
# Press the timer button (2) to toggle start/stop
# Press reset (5) to reset timer
# Press skip (7) to skip to next phase

shape = [3, 5]

# Main pomodoro timer - center of top row
# Press to toggle start/stop
#
# Two variants are shown below:
#   1. With icons - shows themed icons when paused at phase boundary
#   2. Without icons - shows text fallback when paused at phase boundary

# Variant 1: With icons
# When paused at phase boundary, displays the icon for current phase
[[keys]]
index = 2
[keys.widget]
id = "pomodoro"
icons = { work = "pomodoro", short_break = "pomodoro-coffee", long_break = "pomodoro-beach-umbrella" }
[keys.widget.config]
work = "1"
short_break = "1"
long_break = "1"
interval = "1000"
colors_fg = "#ecf0f1"
colors_work_bg = "#e57373"
colors_break_bg = "#81c784"
colors_paused_bg = "#34495e"
sounds_work = "alarm-clock-elapsed"
sounds_break = "complete"
phases_work = "work"
phases_short_break = "short brk"
phases_long_break = "long brk"
labels_work = "Work"
labels_short_break = "Short\nBreak"
labels_long_break = "Long\nBreak"
labels_paused = "\uf04c"
[keys.action]
exec = "verandah-pomodoroctl toggle"

# Variant 2: Without icons
# When paused at phase boundary, displays text fallback for current phase
# [[keys]]
# index = 2
# [keys.widget]
# id = "pomodoro"
# [keys.widget.config]
# work = "1"
# short_break = "1"
# long_break = "1"
# interval = "1000"
# colors_fg = "#ecf0f1"
# colors_work_bg = "#e57373"
# colors_break_bg = "#81c784"
# colors_paused_bg = "#34495e"
# sounds_work = "alarm-clock-elapsed"
# sounds_break = "complete"
# phases_work = "W"
# phases_short_break = "SB"
# phases_long_break = "LB"
# labels_work = "WORK"
# labels_short_break = "BREAK"
# labels_long_break = "LONG\nBREAK"
# labels_paused = "||"
# [keys.action]
# exec = "verandah-pomodoroctl toggle"

# Reset button
[[keys]]
index = 5
[keys.widget]
id = "clock"
[keys.widget.config]
format = "Reset"
interval = "60000"
fg_color = "ffffff"
bg_color = "e74c3c" # Alizarin red
[keys.action]
exec = "verandah-pomodoroctl reset"

# Skip button
[[keys]]
index = 7
[keys.widget]
id = "clock"
[keys.widget.config]
format = "Skip"
interval = "60000"
fg_color = "ffffff"
bg_color = "3498db" # Peter river blue
[keys.action]
exec = "verandah-pomodoroctl skip"

# Clock for reference
[[keys]]
index = 4
[keys.widget]
id = "clock"
[keys.widget.config]
format = "%H:%M"
interval = "1000"
fg_color = "ffffff"
bg_color = "2c3e50" # Midnight blue

# Example deck configuration for the pomodoro timer plugin
#
# Usage:
#   1. Build the plugin: cargo build
#   2. Set plugin path: export VERANDAH_PLUGIN_PATH=/home/swn/.cache/cargo/sw1nn/cargo_target/debug
#   3. Start daemon: streamdeckd --config examples/pomodoro.toml --watch-config -vv
#
# Button layout (3x5 Stream Deck):
#
#   ┌─────┬─────┬─────┬─────┬─────┐
#   │  0  │  1  │TIMER│  3  │clock│
#   ├─────┼─────┼─────┼─────┼─────┤
#   │reset│  6  │skip │  8  │  9  │
#   ├─────┼─────┼─────┼─────┼─────┤
#   │ 10  │ 11  │ 12  │ 13  │ 14  │
#   └─────┴─────┴─────┴─────┴─────┘
#
# Press the timer button (2) to toggle start/stop
# Press reset (5) to reset timer
# Press skip (7) to skip to next phase

shape = [3, 5]

# Main pomodoro timer - center of top row
# Press to toggle start/stop
#
# Two variants are shown below:
#   1. With icons - shows themed icons when paused at phase boundary
#   2. Without icons - shows text fallback when paused at phase boundary

# Variant 1: With icons
# When paused at phase boundary, displays the icon for current phase
# [[keys]]
# index = 2
# [keys.widget]
# id = "pomodoro"
# icons = { work = "pomodoro", short_break = "pomodoro-coffee", long_break = "pomodoro-beach-umbrella" }
# [keys.widget.config]
# work = 1
# short_break = 1
# long_break = 1
# colors = { fg = "#ecf0f1", work_bg = "#e57373", break_bg = "#81c784", paused_bg = "#34495e" }
# sounds = { work = "alarm-clock-elapsed", break = "complete" }
# phases = { work = "work", short_break = "short brk", long_break = "long brk" }
# labels = { work = "Work", short_break = "Short\nBreak", long_break = "Long\nBreak", paused = "\uf04c" }
# [keys.action]
# exec = "verandah-pomodoroctl toggle"

# Variant 2: Without icons
# When paused at phase boundary, displays text fallback for current phase
# [[keys]]
# index = 2
# [keys.widget]
# id = "pomodoro"
# [keys.widget.config]
# work = 1
# short_break = 1
# long_break = 1
# colors = { fg = "#ecf0f1", work_bg = "#e57373", break_bg = "#81c784", paused_bg = "#34495e" }
# sounds = { work = "alarm-clock-elapsed", break = "complete" }
# phases = { work = "W", short_break = "SB", long_break = "LB" }
# labels = { work = "WORK", short_break = "BREAK", long_break = "LONG\nBREAK", paused = "||" }
# [keys.action]
# exec = "verandah-pomodoroctl toggle"

# Variant 3: Filling-bucket mode
# Displays progress as a fill from bottom to top (or top to bottom)
# render_mode: "text" (default), "filling_bucket", or "fill_icon"
# fill_direction: "empty_to_full" (default, fills up) or "full_to_empty" (drains down)
# empty_bg: background color for unfilled portion
# [[keys]]
# index = 2
# [keys.widget]
# id = "pomodoro"
# icons = { work = "pomodoro", short_break = "pomodoro-coffee", long_break = "pomodoro-beach-umbrella" }
# [keys.widget.config]
# work = 1
# short_break = 5
# long_break = 1
# render_mode = "filling_bucket"
# fill_direction = "empty_to_full"
# colors = { fg = "#ecf0f1", work_bg = "#e57373", break_bg = "#81c784", paused_bg = "#34495e", empty_bg = "#2c3e50" }
# sounds = { work = "alarm-clock-elapsed", break = "complete" }
# phases = { work = "work", short_break = "short brk", long_break = "long brk" }
# [keys.action]
# exec = "verandah-pomodoroctl toggle"

# Variant 4: Fill-icon mode
# Fills the phase icon from bottom to top as progress indicator
# Requires icons to be configured; falls back to filling_bucket if no icon available
[[keys]]
index = 2
[keys.widget]
id = "pomodoro"
icons = { work = "pomodoro", short_break = "pomodoro-coffee", long_break = "pomodoro-beach-umbrella" }
[keys.widget.config]
work = 1
short_break = 1
long_break = 1
render_mode = "fill_icon"
fill_direction = "empty_to_full"
colors = { fg = "#ecf0f1", paused_bg = "#34495e", empty_bg = "#000000" }
sounds = { work = "alarm-clock-elapsed", break = "complete" }
[keys.action]
exec = "verandah-pomodoroctl toggle"

# Reset button
[[keys]]
index = 5
[keys.widget]
id = "clock"
[keys.widget.config]
format = "Reset"
interval = 60000
fg_color = "#ffffff"
bg_color = "#e74c3c" # Alizarin red
[keys.action]
exec = "verandah-pomodoroctl reset"

# Skip button
[[keys]]
index = 7
[keys.widget]
id = "clock"
[keys.widget.config]
format = "Skip"
interval = 60000
fg_color = "#ffffff"
bg_color = "#3498db" # Peter river blue
[keys.action]
exec = "verandah-pomodoroctl skip"

# Clock for reference
[[keys]]
index = 4
[keys.widget]
id = "clock"
[keys.widget.config]
format = "%H:%M"
interval = 1000
fg_color = "#ffffff"
bg_color = "#2c3e50" # Midnight blue
